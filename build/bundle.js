var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function c(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function l(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function s(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function p(){return u(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function g(t){return""===t?null:+t}function _(t,e){e=""+e,t.data!==e&&(t.data=e)}function m(t,e){t.value=null==e?"":e}function k(t,e,n,o){null==n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function y(t,e,n){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}n&&void 0===e||(t.selectedIndex=-1)}function v(t,e,n){t.classList[n?"add":"remove"](e)}let j;function w(t){j=t}function b(t){(function(){if(!j)throw new Error("Function called outside component initialization");return j})().$$.on_mount.push(t)}const $=[],x=[];let D=[];const E=[],I=Promise.resolve();let P=!1;function N(t){D.push(t)}const S=new Set;let O=0;function C(){if(0!==O)return;const t=j;do{try{for(;O<$.length;){const t=$[O];O++,w(t),L(t.$$)}}catch(t){throw $.length=0,O=0,t}for(w(null),$.length=0,O=0;x.length;)x.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];S.has(e)||(S.add(e),e())}D.length=0}while($.length);for(;E.length;)E.pop()();P=!1,S.clear(),w(t)}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(N)}}const T=new Set;function M(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];D.forEach((o=>-1===t.indexOf(o)?e.push(o):n.push(o))),n.forEach((t=>t())),D=e}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function U(t,e){-1===t.$$.dirty[0]&&($.push(t),P||(P=!0,I.then(C)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function A(i,r,a,d,s,u,p,f=[-1]){const h=j;w(i);const g=i.$$={fragment:null,ctx:[],props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(h?h.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:r.target||h.$$.root};p&&p(g.root);let _=!1;if(g.ctx=a?a(i,r.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&s(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),_&&U(i,t)),e})):[],g.update(),_=!0,o(g.before_update),g.fragment=!!d&&d(g.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);g.fragment&&g.fragment.l(t),t.forEach(l)}else g.fragment&&g.fragment.c();r.intro&&((m=i.$$.fragment)&&m.i&&(T.delete(m),m.i(k))),function(t,n,i,r){const{fragment:a,after_update:l}=t.$$;a&&a.m(n,i),r||N((()=>{const n=t.$$.on_mount.map(e).filter(c);t.$$.on_destroy?t.$$.on_destroy.push(...n):o(n),t.$$.on_mount=[]})),l.forEach(N)}(i,r.target,r.anchor,r.customElement),C()}var m,k;w(h)}class J{$destroy(){M(this,1),this.$destroy=t}$on(e,n){if(!c(n))return t;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function K(t,e,n){const o=t.slice();return o[84]=e[n],o}function z(t,e,n){const o=t.slice();return o[87]=e[n],o[89]=n,o}function W(t,e,n){const o=t.slice();return o[90]=e[n],o}function q(t,e,n){const o=t.slice();return o[93]=e[n],o}function B(t,e,n){const o=t.slice();return o[84]=e[n],o}function G(t,e,n){const o=t.slice();return o[84]=e[n],o[98]=e,o[99]=n,o}function R(t,e,n){const o=t.slice();return o[87]=e[n],o}function F(t,e,n){const o=t.slice();return o[90]=e[n],o}function Z(t,e,n){const o=t.slice();return o[104]=e[n],o[106]=n,o}function H(e){let n,o,c;return{c(){n=s("button"),n.textContent="Login"},m(t,i){a(t,n,i),o||(c=f(n,"click",e[16]),o=!0)},p:t,d(t){t&&l(n),o=!1,c()}}}function V(e){let n,o,c;return{c(){n=s("button"),n.textContent="Logout"},m(t,i){a(t,n,i),o||(c=f(n,"click",e[17]),o=!0)},p:t,d(t){t&&l(n),o=!1,c()}}}function Y(t){let e,n,c,i,g,m,k,y,v,j,w,b,$,x,D=t[10].createProject+"",E=t[10].existingProjects+"",I="Logged in"===t[5]&&null!==t[6]&&Q(t),P=t[0],N=[];for(let e=0;e<P.length;e+=1)N[e]=it(G(t,P,e));return{c(){e=s("h2"),n=u(D),c=p(),I&&I.c(),i=p(),g=s("h2"),m=u(E),k=p(),y=s("button"),y.textContent="Sort by name ▲",v=p(),j=s("button"),j.textContent="Sort by name ▼",w=p(),b=s("div");for(let t=0;t<N.length;t+=1)N[t].c();h(b,"class","project-list")},m(o,l){a(o,e,l),r(e,n),a(o,c,l),I&&I.m(o,l),a(o,i,l),a(o,g,l),r(g,m),a(o,k,l),a(o,y,l),a(o,v,l),a(o,j,l),a(o,w,l),a(o,b,l);for(let t=0;t<N.length;t+=1)N[t]&&N[t].m(b,null);$||(x=[f(y,"click",t[38]),f(j,"click",t[39])],$=!0)},p(t,e){if(1024&e[0]&&D!==(D=t[10].createProject+"")&&_(n,D),"Logged in"===t[5]&&null!==t[6]?I?I.p(t,e):(I=Q(t),I.c(),I.m(i.parentNode,i)):I&&(I.d(1),I=null),1024&e[0]&&E!==(E=t[10].existingProjects+"")&&_(m,E),35914781&e[0]){let n;for(P=t[0],n=0;n<P.length;n+=1){const o=G(t,P,n);N[n]?N[n].p(o,e):(N[n]=it(o),N[n].c(),N[n].m(b,null))}for(;n<N.length;n+=1)N[n].d(1);N.length=P.length}},d(t){t&&l(e),t&&l(c),I&&I.d(t),t&&l(i),t&&l(g),t&&l(k),t&&l(y),t&&l(v),t&&l(j),t&&l(w),t&&l(b),d(N,t),$=!1,o(x)}}}function Q(t){let e,n,c,i,d,k,y,v,j,w,b,$,x,D,E,I,P,N,S,O,C,L,T,M,U,A,J,K,z,W=t[10].addProject+"";return{c(){e=s("div"),n=u("name: "),c=s("input"),d=p(),k=s("div"),y=u("description: "),v=s("input"),w=p(),b=s("div"),$=u("kpi: "),x=s("input"),E=p(),I=s("div"),P=u("due_date: "),N=s("input"),O=p(),C=s("div"),L=u("difficulty: "),T=s("input"),U=p(),A=s("button"),J=u(W),h(c,"type","text"),h(c,"placeholder",i=t[10].projectName),h(c,"maxlength","100"),h(v,"type","text"),h(v,"placeholder",j=t[10].projectDescription),h(v,"maxlength","200"),h(x,"type","number"),h(x,"placeholder",D=t[10].projectKPI),h(x,"min","0"),h(N,"type","datetime-local"),h(N,"placeholder",S=t[10].projectDueDate),h(T,"type","number"),h(T,"placeholder",M=t[10].projectDifficulty),h(T,"min","1"),h(T,"max","5")},m(o,i){a(o,e,i),r(e,n),r(e,c),m(c,t[11].name),a(o,d,i),a(o,k,i),r(k,y),r(k,v),m(v,t[11].description),a(o,w,i),a(o,b,i),r(b,$),r(b,x),m(x,t[11].kpi),a(o,E,i),a(o,I,i),r(I,P),r(I,N),m(N,t[11].due_date),a(o,O,i),a(o,C,i),r(C,L),r(C,T),m(T,t[11].difficulty),a(o,U,i),a(o,A,i),r(A,J),K||(z=[f(c,"input",t[33]),f(v,"input",t[34]),f(x,"input",t[35]),f(N,"input",t[36]),f(T,"input",t[37]),f(A,"click",t[14])],K=!0)},p(t,e){1024&e[0]&&i!==(i=t[10].projectName)&&h(c,"placeholder",i),2048&e[0]&&c.value!==t[11].name&&m(c,t[11].name),1024&e[0]&&j!==(j=t[10].projectDescription)&&h(v,"placeholder",j),2048&e[0]&&v.value!==t[11].description&&m(v,t[11].description),1024&e[0]&&D!==(D=t[10].projectKPI)&&h(x,"placeholder",D),2048&e[0]&&g(x.value)!==t[11].kpi&&m(x,t[11].kpi),1024&e[0]&&S!==(S=t[10].projectDueDate)&&h(N,"placeholder",S),2048&e[0]&&m(N,t[11].due_date),1024&e[0]&&M!==(M=t[10].projectDifficulty)&&h(T,"placeholder",M),2048&e[0]&&g(T.value)!==t[11].difficulty&&m(T,t[11].difficulty),1024&e[0]&&W!==(W=t[10].addProject+"")&&_(J,W)},d(t){t&&l(e),t&&l(d),t&&l(k),t&&l(w),t&&l(b),t&&l(E),t&&l(I),t&&l(O),t&&l(C),t&&l(U),t&&l(A),K=!1,o(z)}}}function X(t){let e,n,o,c;function i(...e){return t[41](t[84],t[98],t[99],...e)}return{c(){e=s("input"),h(e,"type","text"),e.value=n=t[84].name},m(t,n){a(t,e,n),o||(c=f(e,"input",i),o=!0)},p(o,c){t=o,1&c[0]&&n!==(n=t[84].name)&&e.value!==n&&(e.value=n)},d(t){t&&l(e),o=!1,c()}}}function tt(t){let e,n,o,c;function i(...e){return t[45](t[84],t[98],t[99],...e)}return{c(){e=s("input"),h(e,"type","text"),e.value=n=t[84].description},m(t,n){a(t,e,n),o||(c=f(e,"input",i),o=!0)},p(o,c){t=o,1&c[0]&&n!==(n=t[84].description)&&e.value!==n&&(e.value=n)},d(t){t&&l(e),o=!1,c()}}}function et(t){let e,n,o,c;function i(...e){return t[51](t[84],t[98],t[99],...e)}return{c(){e=s("input"),h(e,"type","datetime-local"),e.value=n=t[84].due_date.slice(0,16)},m(t,n){a(t,e,n),o||(c=f(e,"input",i),o=!0)},p(o,c){t=o,1&c[0]&&n!==(n=t[84].due_date.slice(0,16))&&(e.value=n)},d(t){t&&l(e),o=!1,c()}}}function nt(t){let e,n,o,c,i=t[25](t[84])>=10*t[106]?"●":"○";return{c(){e=s("span"),n=u(i),o=p(),h(e,"class",c=t[25](t[84])>=10*t[106]?"filled":"")},m(t,c){a(t,e,c),r(e,n),r(e,o)},p(t,o){1&o[0]&&i!==(i=t[25](t[84])>=10*t[106]?"●":"○")&&_(n,i),1&o[0]&&c!==(c=t[25](t[84])>=10*t[106]?"filled":"")&&h(e,"class",c)},d(t){t&&l(e)}}}function ot(t){let e,n,o,c,i=t[10][t[90]]+"",d=t[87][`${t[90]}_description`]+"";return{c(){e=s("span"),n=u(i),o=u(": "),c=u(d),h(e,"class","svelte-1yythv4"),v(e,"done",t[87][`${t[90]}_done`])},m(t,i){a(t,e,i),r(e,n),r(e,o),r(e,c)},p(t,o){1024&o[0]&&i!==(i=t[10][t[90]]+"")&&_(n,i),1&o[0]&&d!==(d=t[87][`${t[90]}_description`]+"")&&_(c,d),1&o[0]&&v(e,"done",t[87][`${t[90]}_done`])},d(t){t&&l(e)}}}function ct(t){let e,n,o=["plan","do","check","act"],c=[];for(let e=0;e<4;e+=1)c[e]=ot(F(t,o,e));return{c(){e=s("div");for(let t=0;t<4;t+=1)c[t].c();n=p(),h(e,"class","pack-summary")},m(t,o){a(t,e,o);for(let t=0;t<4;t+=1)c[t]&&c[t].m(e,null);r(e,n)},p(t,i){if(1025&i[0]){let r;for(o=["plan","do","check","act"],r=0;r<4;r+=1){const a=F(t,o,r);c[r]?c[r].p(a,i):(c[r]=ot(a),c[r].c(),c[r].m(e,n))}for(;r<4;r+=1)c[r].d(1)}},d(t){t&&l(e),d(c,t)}}}function it(t){let e,n,c,i,g,m,y,v,j,w,b,$,x,D,E,I,P,N,S,O,C,L,T,M,U,A,J,K,z,W,q,B,G,F,H,V,Y,Q,ot,it,rt,at,lt,dt,st,ut,pt,ft,ht,gt,_t,mt,kt,yt,vt,jt,wt,bt,$t,xt,Dt,Et,It,Pt,Nt,St,Ot,Ct,Lt,Tt,Mt=t[84].name+"",Ut=t[84].user_id+"",At=t[10].editName+"",Jt=t[4]?"▲":"▼",Kt=t[10].delete+"",zt=t[10].update+"",Wt=t[84].description+"",qt=t[10].editDescription+"",Bt=t[2]?"▲":"▼",Gt=t[84].kpi+"",Rt="★".repeat(t[84].difficulty)+"",Ft=t[84].due_date+"",Zt=t[10].editDueDate+"",Ht=t[3]?"▲":"▼",Vt=t[25](t[84])+"",Yt=t[25](t[84])+"",Qt=t[10].packsSummary+"",Xt=t[4]&&X(t);function te(){return t[42](t[84])}function ee(){return t[43](t[84])}let ne=t[2]&&tt(t);function oe(){return t[46](t[84],t[98],t[99])}function ce(){return t[47](t[84],t[98],t[99])}function ie(){return t[48](t[84],t[98],t[99])}function re(){return t[49](t[84],t[98],t[99])}let ae=t[3]&&et(t),le=Array(10),de=[];for(let e=0;e<le.length;e+=1)de[e]=nt(Z(t,le,e));let se=t[84].packs,ue=[];for(let e=0;e<se.length;e+=1)ue[e]=ct(R(t,se,e));return{c(){e=s("div"),n=s("h3"),c=u(Mt),i=u(": user id: "),g=u(Ut),m=p(),y=s("button"),v=u(At),j=p(),w=u(Jt),b=p(),Xt&&Xt.c(),$=p(),x=s("button"),D=u(Kt),E=p(),I=s("button"),P=u(zt),N=p(),S=s("p"),O=u(Wt),C=p(),L=s("button"),T=u(qt),M=p(),U=u(Bt),A=p(),ne&&ne.c(),J=p(),K=s("p"),z=u("KPI: "),W=u(Gt),q=p(),B=s("button"),B.textContent="+",G=p(),F=s("button"),F.textContent="-",H=p(),V=s("p"),Y=u("Difficulty: "),Q=s("span"),ot=u(Rt),it=p(),rt=s("button"),rt.textContent="+",at=p(),lt=s("button"),lt.textContent="-",dt=p(),st=s("p"),ut=u("Due Date: "),pt=u(Ft),ft=p(),ht=s("button"),gt=u(Zt),_t=p(),mt=u(Ht),kt=p(),ae&&ae.c(),yt=p(),vt=s("p"),jt=u("Progress: "),wt=u(Vt),bt=u("%"),$t=p(),xt=s("div"),Dt=u(Yt),Et=u("%\n                ");for(let t=0;t<de.length;t+=1)de[t].c();It=p(),Pt=s("div"),Nt=s("h4"),St=u(Qt),Ot=p();for(let t=0;t<ue.length;t+=1)ue[t].c();Ct=p(),h(Q,"class","stars svelte-1yythv4"),h(xt,"class","progress-bar svelte-1yythv4"),k(xt,"width",t[25](t[84])+"%"),h(Pt,"class","project-summary"),h(e,"class","project")},m(o,l){a(o,e,l),r(e,n),r(n,c),r(n,i),r(n,g),r(e,m),r(e,y),r(y,v),r(y,j),r(y,w),r(e,b),Xt&&Xt.m(e,null),r(e,$),r(e,x),r(x,D),r(e,E),r(e,I),r(I,P),r(e,N),r(e,S),r(S,O),r(e,C),r(e,L),r(L,T),r(L,M),r(L,U),r(e,A),ne&&ne.m(e,null),r(e,J),r(e,K),r(K,z),r(K,W),r(e,q),r(e,B),r(e,G),r(e,F),r(e,H),r(e,V),r(V,Y),r(V,Q),r(Q,ot),r(e,it),r(e,rt),r(e,at),r(e,lt),r(e,dt),r(e,st),r(st,ut),r(st,pt),r(e,ft),r(e,ht),r(ht,gt),r(ht,_t),r(ht,mt),r(e,kt),ae&&ae.m(e,null),r(e,yt),r(e,vt),r(vt,jt),r(vt,wt),r(vt,bt),r(e,$t),r(e,xt),r(xt,Dt),r(xt,Et);for(let t=0;t<de.length;t+=1)de[t]&&de[t].m(xt,null);r(e,It),r(e,Pt),r(Pt,Nt),r(Nt,St),r(Pt,Ot);for(let t=0;t<ue.length;t+=1)ue[t]&&ue[t].m(Pt,null);r(e,Ct),Lt||(Tt=[f(y,"click",t[40]),f(x,"click",te),f(I,"click",ee),f(L,"click",t[44]),f(B,"click",oe),f(F,"click",ce),f(rt,"click",ie),f(lt,"click",re),f(ht,"click",t[50])],Lt=!0)},p(n,o){if(t=n,1&o[0]&&Mt!==(Mt=t[84].name+"")&&_(c,Mt),1&o[0]&&Ut!==(Ut=t[84].user_id+"")&&_(g,Ut),1024&o[0]&&At!==(At=t[10].editName+"")&&_(v,At),16&o[0]&&Jt!==(Jt=t[4]?"▲":"▼")&&_(w,Jt),t[4]?Xt?Xt.p(t,o):(Xt=X(t),Xt.c(),Xt.m(e,$)):Xt&&(Xt.d(1),Xt=null),1024&o[0]&&Kt!==(Kt=t[10].delete+"")&&_(D,Kt),1024&o[0]&&zt!==(zt=t[10].update+"")&&_(P,zt),1&o[0]&&Wt!==(Wt=t[84].description+"")&&_(O,Wt),1024&o[0]&&qt!==(qt=t[10].editDescription+"")&&_(T,qt),4&o[0]&&Bt!==(Bt=t[2]?"▲":"▼")&&_(U,Bt),t[2]?ne?ne.p(t,o):(ne=tt(t),ne.c(),ne.m(e,J)):ne&&(ne.d(1),ne=null),1&o[0]&&Gt!==(Gt=t[84].kpi+"")&&_(W,Gt),1&o[0]&&Rt!==(Rt="★".repeat(t[84].difficulty)+"")&&_(ot,Rt),1&o[0]&&Ft!==(Ft=t[84].due_date+"")&&_(pt,Ft),1024&o[0]&&Zt!==(Zt=t[10].editDueDate+"")&&_(gt,Zt),8&o[0]&&Ht!==(Ht=t[3]?"▲":"▼")&&_(mt,Ht),t[3]?ae?ae.p(t,o):(ae=et(t),ae.c(),ae.m(e,yt)):ae&&(ae.d(1),ae=null),1&o[0]&&Vt!==(Vt=t[25](t[84])+"")&&_(wt,Vt),1&o[0]&&Yt!==(Yt=t[25](t[84])+"")&&_(Dt,Yt),33554433&o[0]){let e;for(le=Array(10),e=0;e<le.length;e+=1){const n=Z(t,le,e);de[e]?de[e].p(n,o):(de[e]=nt(n),de[e].c(),de[e].m(xt,null))}for(;e<de.length;e+=1)de[e].d(1);de.length=le.length}if(1&o[0]&&k(xt,"width",t[25](t[84])+"%"),1024&o[0]&&Qt!==(Qt=t[10].packsSummary+"")&&_(St,Qt),1025&o[0]){let e;for(se=t[84].packs,e=0;e<se.length;e+=1){const n=R(t,se,e);ue[e]?ue[e].p(n,o):(ue[e]=ct(n),ue[e].c(),ue[e].m(Pt,null))}for(;e<ue.length;e+=1)ue[e].d(1);ue.length=se.length}},d(t){t&&l(e),Xt&&Xt.d(),ne&&ne.d(),ae&&ae.d(),d(de,t),d(ue,t),Lt=!1,o(Tt)}}}function rt(t){let e,n,c,i,g,k,v,j,w,b,$,x,D,E,I,P,S,O,C,L,T,M,U,A,J,K,W,q,G,R,F,Z,H,V,Y,Q,X,tt,et,nt,ot,ct,it=t[10].createPack+"",rt=t[10].addPack+"",lt=t[10].existingPacks+"",dt=t[0],ut=[];for(let e=0;e<dt.length;e+=1)ut[e]=at(B(t,dt,e));let pt=t[13],ft=[];for(let e=0;e<pt.length;e+=1)ft[e]=st(z(t,pt,e));return{c(){e=s("h2"),n=u(it),c=p(),i=s("select");for(let t=0;t<ut.length;t+=1)ut[t].c();g=p(),k=s("div"),v=s("div"),j=u("pack plan_description: "),w=s("input"),$=p(),x=s("div"),D=u("pack do_description: "),E=s("input"),P=p(),S=s("div"),O=u("pack check_description: "),C=s("input"),T=p(),M=s("div"),U=u("pack act_description: "),A=s("input"),K=p(),W=s("input"),G=p(),R=s("button"),F=u(rt),Z=p(),H=s("h2"),V=u(lt),Y=p(),Q=s("button"),Q.textContent="Sort by plan ▲",X=p(),tt=s("button"),tt.textContent="Sort by plan ▼",et=p(),nt=s("div");for(let t=0;t<ft.length;t+=1)ft[t].c();void 0===t[12].project_id&&N((()=>t[52].call(i))),h(w,"type","text"),h(w,"placeholder",b=t[10].planDescription),h(w,"maxlength","300"),h(E,"type","text"),h(E,"placeholder",I=t[10].doDescription),h(E,"maxlength","300"),h(C,"type","text"),h(C,"placeholder",L=t[10].checkDescription),h(C,"maxlength","300"),h(A,"type","text"),h(A,"placeholder",J=t[10].actDescription),h(A,"maxlength","300"),h(W,"type","datetime-local"),h(W,"placeholder",q=t[10].packDueDate),h(nt,"class","pack-list")},m(o,l){a(o,e,l),r(e,n),a(o,c,l),a(o,i,l);for(let t=0;t<ut.length;t+=1)ut[t]&&ut[t].m(i,null);y(i,t[12].project_id,!0),a(o,g,l),a(o,k,l),r(k,v),r(v,j),r(v,w),m(w,t[12].plan_description),r(k,$),r(k,x),r(x,D),r(x,E),m(E,t[12].do_description),r(k,P),r(k,S),r(S,O),r(S,C),m(C,t[12].check_description),r(k,T),r(k,M),r(M,U),r(M,A),m(A,t[12].act_description),r(k,K),r(k,W),m(W,t[12].due_date),r(k,G),r(k,R),r(R,F),a(o,Z,l),a(o,H,l),r(H,V),a(o,Y,l),a(o,Q,l),a(o,X,l),a(o,tt,l),a(o,et,l),a(o,nt,l);for(let t=0;t<ft.length;t+=1)ft[t]&&ft[t].m(nt,null);ot||(ct=[f(i,"change",t[52]),f(w,"input",t[53]),f(E,"input",t[54]),f(C,"input",t[55]),f(A,"input",t[56]),f(W,"input",t[57]),f(R,"click",t[23]),f(Q,"click",t[58]),f(tt,"click",t[59])],ot=!0)},p(t,e){if(1024&e[0]&&it!==(it=t[10].createPack+"")&&_(n,it),1&e[0]){let n;for(dt=t[0],n=0;n<dt.length;n+=1){const o=B(t,dt,n);ut[n]?ut[n].p(o,e):(ut[n]=at(o),ut[n].c(),ut[n].m(i,null))}for(;n<ut.length;n+=1)ut[n].d(1);ut.length=dt.length}if(4097&e[0]&&y(i,t[12].project_id),1024&e[0]&&b!==(b=t[10].planDescription)&&h(w,"placeholder",b),4097&e[0]&&w.value!==t[12].plan_description&&m(w,t[12].plan_description),1024&e[0]&&I!==(I=t[10].doDescription)&&h(E,"placeholder",I),4097&e[0]&&E.value!==t[12].do_description&&m(E,t[12].do_description),1024&e[0]&&L!==(L=t[10].checkDescription)&&h(C,"placeholder",L),4097&e[0]&&C.value!==t[12].check_description&&m(C,t[12].check_description),1024&e[0]&&J!==(J=t[10].actDescription)&&h(A,"placeholder",J),4097&e[0]&&A.value!==t[12].act_description&&m(A,t[12].act_description),1024&e[0]&&q!==(q=t[10].packDueDate)&&h(W,"placeholder",q),4097&e[0]&&m(W,t[12].due_date),1024&e[0]&&rt!==(rt=t[10].addPack+"")&&_(F,rt),1024&e[0]&&lt!==(lt=t[10].existingPacks+"")&&_(V,lt),156804354&e[0]){let n;for(pt=t[13],n=0;n<pt.length;n+=1){const o=z(t,pt,n);ft[n]?ft[n].p(o,e):(ft[n]=st(o),ft[n].c(),ft[n].m(nt,null))}for(;n<ft.length;n+=1)ft[n].d(1);ft.length=pt.length}},d(t){t&&l(e),t&&l(c),t&&l(i),d(ut,t),t&&l(g),t&&l(k),t&&l(Z),t&&l(H),t&&l(Y),t&&l(Q),t&&l(X),t&&l(tt),t&&l(et),t&&l(nt),d(ft,t),ot=!1,o(ct)}}}function at(t){let e,n,o,c=t[84].name+"";return{c(){e=s("option"),n=u(c),e.__value=o=t[84].id,e.value=e.__value},m(t,o){a(t,e,o),r(e,n)},p(t,i){1&i[0]&&c!==(c=t[84].name+"")&&_(n,c),1&i[0]&&o!==(o=t[84].id)&&(e.__value=o,e.value=e.__value)},d(t){t&&l(e)}}}function lt(t){let e,n,o,c,i,d,g,m,k=t[93].description+"",y=t[10].delete+"";function v(){return t[63](t[93])}return{c(){e=s("a"),n=u(k),c=p(),i=s("button"),d=u(y),h(e,"href",o=t[93].url),h(e,"target","_blank")},m(t,o){a(t,e,o),r(e,n),a(t,c,o),a(t,i,o),r(i,d),g||(m=f(i,"click",v),g=!0)},p(c,i){t=c,8192&i[0]&&k!==(k=t[93].description+"")&&_(n,k),8192&i[0]&&o!==(o=t[93].url)&&h(e,"href",o),1024&i[0]&&y!==(y=t[10].delete+"")&&_(d,y)},d(t){t&&l(e),t&&l(c),t&&l(i),g=!1,m()}}}function dt(t){let e,n,i,g,y,j,w,b,$,x,D,E,I,P,N,S,O,C,L,T,M,U,A,J,K,z,W,B,G=t[10].done+"",R=t[10][t[90]]+"",F=t[87][`${t[90]}_description`]+"",Z=t[10].addLink+"",H=t[1]?"▲":"▼",V=t[10].addLink+"";function Y(){return t[62](t[87],t[90])}let Q=t[87][t[90]].links||[],X=[];for(let e=0;e<Q.length;e+=1)X[e]=lt(q(t,Q,e));return{c(){e=s("div"),n=s("button"),i=u(G),g=p(),y=s("p"),j=u(R),w=u(": "),b=u(F),$=p();for(let t=0;t<X.length;t+=1)X[t].c();x=p(),D=s("div"),E=s("button"),I=u(Z),P=p(),N=u(H),S=p(),O=s("div"),C=s("form"),L=s("input"),M=p(),U=s("input"),J=p(),K=s("button"),z=u(V),h(E,"class","link-create-mode"),h(L,"type","text"),h(L,"placeholder",T=t[10].linkURL),h(L,"minlength","1"),h(L,"maxlength","300"),h(U,"type","text"),h(U,"placeholder",A=t[10].linkDescription),h(U,"minlength","1"),h(U,"maxlength","300"),h(K,"type","submit"),h(O,"class","link-form"),k(O,"display",t[1]?"block":"none"),h(D,"class","link-add svelte-1yythv4"),h(e,"class","svelte-1yythv4"),v(e,"done",t[87][`${t[90]}_done`])},m(o,l){a(o,e,l),r(e,n),r(n,i),r(e,g),r(e,y),r(y,j),r(y,w),r(y,b),r(e,$);for(let t=0;t<X.length;t+=1)X[t]&&X[t].m(e,null);var d;r(e,x),r(e,D),r(D,E),r(E,I),r(E,P),r(E,N),r(D,S),r(D,O),r(O,C),r(C,L),m(L,t[8].url),r(C,M),r(C,U),m(U,t[8].description),r(C,J),r(C,K),r(K,z),W||(B=[f(n,"click",Y),f(E,"click",t[64]),f(L,"input",t[65]),f(U,"input",t[66]),f(C,"submit",(d=function(){c(t[15](t[87].id,t[90]))&&t[15](t[87].id,t[90]).apply(this,arguments)},function(t){return t.preventDefault(),d.call(this,t)}))],W=!0)},p(n,o){if(t=n,1024&o[0]&&G!==(G=t[10].done+"")&&_(i,G),1024&o[0]&&R!==(R=t[10][t[90]]+"")&&_(j,R),8192&o[0]&&F!==(F=t[87][`${t[90]}_description`]+"")&&_(b,F),1057792&o[0]){let n;for(Q=t[87][t[90]].links||[],n=0;n<Q.length;n+=1){const c=q(t,Q,n);X[n]?X[n].p(c,o):(X[n]=lt(c),X[n].c(),X[n].m(e,x))}for(;n<X.length;n+=1)X[n].d(1);X.length=Q.length}1024&o[0]&&Z!==(Z=t[10].addLink+"")&&_(I,Z),2&o[0]&&H!==(H=t[1]?"▲":"▼")&&_(N,H),1024&o[0]&&T!==(T=t[10].linkURL)&&h(L,"placeholder",T),256&o[0]&&L.value!==t[8].url&&m(L,t[8].url),1024&o[0]&&A!==(A=t[10].linkDescription)&&h(U,"placeholder",A),256&o[0]&&U.value!==t[8].description&&m(U,t[8].description),1024&o[0]&&V!==(V=t[10].addLink+"")&&_(z,V),2&o[0]&&k(O,"display",t[1]?"block":"none"),8192&o[0]&&v(e,"done",t[87][`${t[90]}_done`])},d(t){t&&l(e),d(X,t),W=!1,o(B)}}}function st(t){let e,n,c,i,g,m,k,y,v,j,w,b,$,x,D,E,I,P=t[10].update+"",N=t[10].delete+"",S=t[27](t[87].project_id)+"";function O(){return t[60](t[87])}function C(){return t[61](t[87])}let L=["plan","do","check","act"],T=[];for(let e=0;e<4;e+=1)T[e]=dt(W(t,L,e));return{c(){e=s("div"),n=s("div"),c=s("button"),i=u("pack "),g=u(P),m=p(),k=s("div"),y=s("button"),v=u("pack "),j=u(N),w=p(),b=s("h3"),$=u(S),x=p();for(let t=0;t<4;t+=1)T[t].c();D=p(),h(n,"class","pack_update"),h(k,"class","pack_delete svelte-1yythv4"),h(e,"class","pack")},m(t,o){a(t,e,o),r(e,n),r(n,c),r(c,i),r(c,g),r(e,m),r(e,k),r(k,y),r(y,v),r(y,j),r(e,w),r(e,b),r(b,$),r(e,x);for(let t=0;t<4;t+=1)T[t]&&T[t].m(e,null);r(e,D),E||(I=[f(c,"click",O),f(y,"click",C)],E=!0)},p(n,o){if(t=n,1024&o[0]&&P!==(P=t[10].update+"")&&_(g,P),1024&o[0]&&N!==(N=t[10].delete+"")&&_(j,N),8192&o[0]&&S!==(S=t[27](t[87].project_id)+"")&&_($,S),17868034&o[0]){let n;for(L=["plan","do","check","act"],n=0;n<4;n+=1){const c=W(t,L,n);T[n]?T[n].p(c,o):(T[n]=dt(c),T[n].c(),T[n].m(e,D))}for(;n<4;n+=1)T[n].d(1)}},d(t){t&&l(e),d(T,t),E=!1,o(I)}}}function ut(t){let e,n,o,c,i=t[10].progress+"",f=t[0],g=[];for(let e=0;e<f.length;e+=1)g[e]=pt(K(t,f,e));return{c(){e=s("h2"),n=u(i),o=p(),c=s("div");for(let t=0;t<g.length;t+=1)g[t].c();h(c,"class","progress")},m(t,i){a(t,e,i),r(e,n),a(t,o,i),a(t,c,i);for(let t=0;t<g.length;t+=1)g[t]&&g[t].m(c,null)},p(t,e){if(1024&e[0]&&i!==(i=t[10].progress+"")&&_(n,i),33554433&e[0]){let n;for(f=t[0],n=0;n<f.length;n+=1){const o=K(t,f,n);g[n]?g[n].p(o,e):(g[n]=pt(o),g[n].c(),g[n].m(c,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=f.length}},d(t){t&&l(e),t&&l(o),t&&l(c),d(g,t)}}}function pt(t){let e,n,o,c,i,d,f,g,m,k,y,v=t[84].name+"",j=t[25](t[84])+"";return{c(){e=s("div"),n=s("h3"),o=u(v),c=p(),i=s("progress"),f=p(),g=s("div"),m=u(j),k=u("%"),y=p(),h(i,"max","100"),i.value=d=t[25](t[84]),h(e,"class","progress-item")},m(t,l){a(t,e,l),r(e,n),r(n,o),r(e,c),r(e,i),r(e,f),r(e,g),r(g,m),r(g,k),r(e,y)},p(t,e){1&e[0]&&v!==(v=t[84].name+"")&&_(o,v),1&e[0]&&d!==(d=t[25](t[84]))&&(i.value=d),1&e[0]&&j!==(j=t[25](t[84])+"")&&_(m,j)},d(t){t&&l(e)}}}function ft(e){let n,c,i,d,g,m,k,y,v,j,w,b,$,x,D,E,I,P,N,S,O,C,L,T,M,U,A,J,K,z,W,q,B,G,R=e[10].projectManagement+"",F=e[10].packManagement+"",Z=e[10].progressManagement+"";function Q(t,e){return"Logged in"===t[5]?V:H}let X=Q(e),tt=X(e),et="projects"===e[9]&&Y(e),nt="packs"===e[9]&&rt(e),ot="progress"===e[9]&&ut(e);return{c(){n=s("header"),c=s("div"),c.textContent="v1.0.0",i=p(),d=s("div"),g=u("auth_login_result: "),m=u(e[5]),k=p(),y=s("div"),v=u("auth_uid: "),j=u(e[6]),w=p(),b=s("div"),$=u("auth_user_id: "),x=u(e[7]),D=p(),E=p(),tt.c(),I=u("\n    auth_login_result: "),P=u(e[5]),N=p(),S=s("nav"),O=s("button"),C=u(R),L=p(),T=s("button"),M=u(F),U=p(),A=s("button"),J=u(Z),K=p(),et&&et.c(),z=p(),nt&&nt.c(),W=p(),ot&&ot.c(),q=u(""),h(c,"class","version")},m(t,o){a(t,n,o),r(n,c),r(n,i),r(n,d),r(d,g),r(d,m),r(n,k),r(n,y),r(y,v),r(y,j),r(n,w),r(n,b),r(b,$),r(b,x),r(n,D),r(n,E),tt.m(n,null),r(n,I),r(n,P),a(t,N,o),a(t,S,o),r(S,O),r(O,C),r(S,L),r(S,T),r(T,M),r(S,U),r(S,A),r(A,J),a(t,K,o),et&&et.m(t,o),a(t,z,o),nt&&nt.m(t,o),a(t,W,o),ot&&ot.m(t,o),a(t,q,o),B||(G=[f(O,"click",e[30]),f(T,"click",e[31]),f(A,"click",e[32])],B=!0)},p(t,e){32&e[0]&&_(m,t[5]),64&e[0]&&_(j,t[6]),128&e[0]&&_(x,t[7]),X===(X=Q(t))&&tt?tt.p(t,e):(tt.d(1),tt=X(t),tt&&(tt.c(),tt.m(n,I))),32&e[0]&&_(P,t[5]),1024&e[0]&&R!==(R=t[10].projectManagement+"")&&_(C,R),1024&e[0]&&F!==(F=t[10].packManagement+"")&&_(M,F),1024&e[0]&&Z!==(Z=t[10].progressManagement+"")&&_(J,Z),"projects"===t[9]?et?et.p(t,e):(et=Y(t),et.c(),et.m(z.parentNode,z)):et&&(et.d(1),et=null),"packs"===t[9]?nt?nt.p(t,e):(nt=rt(t),nt.c(),nt.m(W.parentNode,W)):nt&&(nt.d(1),nt=null),"progress"===t[9]?ot?ot.p(t,e):(ot=ut(t),ot.c(),ot.m(q.parentNode,q)):ot&&(ot.d(1),ot=null)},i:t,o:t,d(t){t&&l(n),tt.d(),t&&l(N),t&&l(S),t&&l(K),et&&et.d(t),t&&l(z),nt&&nt.d(t),t&&l(W),ot&&ot.d(t),t&&l(q),B=!1,o(G)}}}let ht="https://cotton-concrete-catsup.glitch.me/app7";function gt(t){return new Date(t).toISOString()}function _t(t){return t.slice(0,16)}function mt(t,e,n){let o=!1,c=!1,i=!1,r=!1;let a=[];const l={validateUser:t=>{const e=[];return/^[a-zA-Z0-9_-]{28}$/.test(t)||e.push("Invalid UID format"),e},validateProject:t=>{const e=[];return("string"!=typeof t.name||t.name.length<1||t.name.length>50)&&e.push("Invalid project name"),("string"!=typeof t.description||t.description.length<1||t.description.length>300)&&e.push("Invalid project description"),(!Number.isInteger(t.kpi)||t.kpi<0||t.kpi>100)&&e.push("Invalid project KPI"),(!Number.isInteger(t.difficulty)||t.difficulty<1||t.difficulty>5)&&e.push("Invalid project difficulty"),e},validatePack:t=>{const e=[];("string"!=typeof t.plan_description||t.plan_description.length<1||t.plan_description.length>300)&&e.push("Invalid plan description"),[0,1].includes(t.plan_done)||e.push("Invalid plan done value"),("string"!=typeof t.do_description||t.do_description.length<1||t.do_description.length>300)&&e.push("Invalid do description"),[0,1].includes(t.do_done)||e.push("Invalid do done value"),("string"!=typeof t.check_description||t.check_description.length<1||t.check_description.length>300)&&e.push("Invalid check description"),[0,1].includes(t.check_done)||e.push("Invalid check done value"),("string"!=typeof t.act_description||t.act_description.length<1||t.act_description.length>300)&&e.push("Invalid act description"),[0,1].includes(t.act_done)||e.push("Invalid act done value");return/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z$/.test(t.due_date)||e.push("Invalid pack due date format. Must be ISO 8601 format."),e},validateLink:t=>{const e=[];return("string"!=typeof t.url||t.url.length<1||t.url.length>300||!/^https?:\/\/[^\s$.?#].[^\s]*$/.test(t.url))&&e.push("Invalid URL"),("string"!=typeof t.description||t.description.length<1||t.description.length>300)&&e.push("Invalid link description"),["plan","do","check","act"].includes(t.stage)||e.push("Invalid stage"),e}};let d="Not logged in",s=null,u=null,p=[],f={url:"",description:"",stage:""};firebase.initializeApp({apiKey:"AIzaSyBcOlIDP2KWbJuKM0WeMHNp-WvjTVfLt9Y",authDomain:"p2auth-ea50a.firebaseapp.com",projectId:"p2auth-ea50a",storageBucket:"p2auth-ea50a.appspot.com",messagingSenderId:"796225429484",appId:"1:796225429484:web:ece56ef2fc0be28cd6eac9"});const h=new firebase.auth.GoogleAuthProvider;async function _(){try{console.log("Fetching data...",s);const t=await fetch(ht+"/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:s})});p=await t.json(),n(0,[I,E,u]=[p.projects_and_packs,p.packs,p.user_id],I,n(13,E),n(7,u))}catch(t){console.error("Error fetching data:",t)}}async function m(t){try{const e=await fetch(`${ht}/delete_projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:t,uid:s})});if(!e.ok)throw new Error("Network response was not ok");const n=await e.json();console.log("Project successfully deleted:",n),await _()}catch(t){console.error("Error deleting project:",t)}}async function k(t){try{const e=await fetch(`${ht}/delete_packs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pack_id:t,uid:s})});if(!e.ok)throw new Error("Network response was not ok");const n=await e.json();console.log("Pack successfully deleted:",n),await _()}catch(t){console.error("Error deleting pack:",t)}}async function y(t){try{const e=await fetch(`${ht}/delete_links`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({link_id:t,uid:s})});if(!e.ok)throw new Error("Network response was not ok");const n=await e.json();console.log("Link successfully deleted:",n),await _()}catch(t){console.error("Error deleting link:",t)}}async function v(t){try{!s&&(a.push("Error updating project: No UID"),console.error("Error updating project: No UID"));const e=I.find((e=>e.id===t)),n=l.validateProject(e);if(a.push(...n),a.length>0)return void console.error("Error updating project:",a);const o=await fetch(`${ht}/update_projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:t,name:e.name,description:e.description,kpi:e.kpi,due_date:gt(e.due_date),difficulty:e.difficulty,uid:s})});if(!o.ok)throw new Error("Network response was not ok");const c=await o.json();console.log("Project successfully updated:",c),await _()}catch(t){console.error("Error updating project:",t)}}async function j(t){try{!s&&(a.push("Error updating pack: No UID"),console.error("Error updating pack: No UID"));const e=E.find((e=>e.id===t)),n=l.validatePack(e);if(a.push(...n),a.length>0)return void console.error("Error updating pack:",a);const o=await fetch(`${ht}/update_packs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pack_id:t,project_id:e.project_id,plan_description:e.plan_description,plan_done:e.plan_done,do_description:e.do_description,do_done:e.do_done,check_description:e.check_description,check_done:e.check_done,act_description:e.act_description,act_done:e.act_done,due_date:gt(e.due_date),uid:s})});if(!o.ok)throw new Error("Network response was not ok");const c=await o.json();console.log("Pack successfully updated:",c),await _()}catch(t){console.error("Error updating pack:",t)}}let w="projects",$={},x={name:"",description:"",kpi:0,due_date:(new Date).toISOString().slice(0,16),difficulty:3},D={project_id:null,plan_description:"",plan_done:0,do_description:"",do_done:0,check_description:"",check_done:0,act_description:"",act_done:0,due_date:(new Date).toISOString().slice(0,16)};let E=[],I=[],P="asc",N="asc";function S(t,e){n(13,E=E.map((n=>(n.id===t&&(n[`${e}_done`]=n[`${e}_done`]?0:1),n))));const o=E.find((e=>e.id===t)).project_id,c=C(t);E.find((e=>e.id===t));const i=I.find((t=>t.id===o));if(i.packs=i.packs.map((n=>(n.id===t&&(n[`${e}_done`]=n[`${e}_done`]?0:1),n))),100===c){const t=I.find((t=>t.id===o));t.difficulty=Math.max(1,t.difficulty-1)}if(0===c){const t=I.find((t=>t.id===o));t.difficulty=Math.min(5,t.difficulty+1)}}b((async()=>{n(10,$=await(async()=>{const t=await fetch("pdca_lang.json");return await t.json()})()),await async function(){try{const t=await new Promise(((t,e)=>{firebase.auth().onAuthStateChanged(t,e)}));console.log("Current user:",t);const e=t;e?(n(5,d="Logged in"),n(6,s=e.uid)):(n(5,d="Not logged in"),n(5,d="Logged in"))}catch(t){console.error("Error during authentication:",t),n(5,d="Authentication failed"),n(6,s="")}}(),await _()}));const O=t=>n(9,w=t),C=t=>{const e=["plan","do","check","act"],n=E.find((e=>e.id===t));return e.filter((t=>n[t].done)).length/e.length*100},L=(t="asc")=>{if("asc"!==t&&"desc"!==t)return;const e=I.sort(((e,n)=>(P===t?1:-1)*e.name.localeCompare(n.name)));n(0,I=[...e])},T=(t="asc")=>{if("asc"!==t&&"desc"!==t)return;const e=E.sort(((e,n)=>(N===t?1:-1)*e.plan_description.localeCompare(n.plan_description)));n(13,E=[...e])};return t.$$.update=()=>{1&t.$$.dirty[0]&&(async()=>{n(0,I=I.map((t=>(t.due_date=_t(t.due_date),t))))})()},[I,o,c,i,r,d,s,u,f,w,$,x,D,E,async function(){try{console.log("Creating project:",x),!s&&(a.push("Error creating project: No UID"),console.error("Error creating project: No UID"));const t=l.validateProject(x);if(a.push(...t),a.length>0)return void console.error("Error creating project:",a);const e=await fetch(`${ht}/create_projects`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.name,description:x.description,kpi:x.kpi,due_date:gt(x.due_date),difficulty:x.difficulty,uid:s})});if(!e.ok){const t=await e.json();return void console.error("Error creating project:",t.errors)}const n=await e.json();console.log("Project created with ID:",n.id)}catch(t){console.error("Error creating project:",t)}},async function(t,e){try{console.log({pack_id:t,url:f.url,description:f.description,stage:e,uid:s}),console.log("1"),!s&&(()=>{throw new Error("auth_uid is required")})(),console.log("2"),n(8,f.stage=e,f);const o=l.validateLink(f);console.log("3"),console.log("valid_errors",o),console.log("4"),o.length>0&&(()=>{throw new Error("Error creating link:",o)})(),console.log("5");const c=await fetch(ht+"/create_links",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pack_id:t,url:f.url,description:f.description,stage:f.stage,uid:s})});if(!c.ok){console.log("6");const t=await c.json();return void console.error("Error creating link:",t.errors)}const i=await c.json();console.log("Link created with ID:",i.id),n(8,f={url:"",description:"",stage:""})}catch(t){console.log("7"),console.log(t)}},async function(){try{const t=(await firebase.auth().signInWithPopup(h)).user;n(5,d=`Logged in as: ${t.displayName}`)}catch(t){console.error("Error during Google login:",t),alert("Google login failed. "+t.message)}},async function(){try{await firebase.auth().signOut(),n(5,d="Not logged in")}catch(t){console.error("Error during sign-out:",t),alert("Sign out failed. "+t.message)}},m,k,y,v,j,async function(){try{await async function(){try{!s&&(a.push("Error creating pack: No UID"),console.error("Error creating pack: No UID"));const t=l.validatePack(D);a.push(...t),!(a.length>0)&&(()=>{throw new Error("Error creating pack:",a)})();const e=await fetch(ht+"/create_packs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({project_id:D.project_id,plan_description:D.plan_description,plan_done:D.plan_done,do_description:D.do_description,do_done:D.do_done,check_description:D.check_description,check_done:D.check_done,act_description:D.act_description,act_done:D.act_done,uid:s,due_date:gt(D.due_date)})});if(!e.ok){const t=await e.json();return void console.error("Error creating pack:",t.errors)}const n=await e.json();console.log("Pack created with ID:",n.id)}catch(t){console.error("Error creating pack:",t)}}(),n(13,E=[...E,D]),n(12,D={plan_description:"",plan_done:0,do_description:"",do_done:0,check_description:"",check_done:0,act_description:"",act_done:0,due_date:_t((new Date).toISOString())})}catch(t){console.error("Error adding pack:",t)}},S,t=>{const e=t.packs,n=e.filter((e=>e.project_id===t.id)).length,o=e.filter((e=>e.project_id===t.id&&e.plan_done&&e.do_done&&e.check_done&&e.act_done)).length;return 0===n?0:Math.round(o/n*100)},O,t=>{const e=I.find((e=>e.id===t));return e?e.name:""},L,T,()=>O("projects"),()=>O("packs"),()=>O("progress"),function(){x.name=this.value,n(11,x)},function(){x.description=this.value,n(11,x)},function(){x.kpi=g(this.value),n(11,x)},function(){x.due_date=this.value,n(11,x)},function(){x.difficulty=g(this.value),n(11,x)},()=>L("asc"),()=>L("desc"),()=>n(4,r=!r),(t,e,o,c)=>n(0,e[o].name=c.target.value,I),t=>m(t.id),t=>v(t.id),()=>n(2,c=!c),(t,e,o,c)=>n(0,e[o].description=c.target.value,I),(t,e,o)=>n(0,e[o].kpi=Math.min(100,t.kpi+1),I),(t,e,o)=>n(0,e[o].kpi=Math.max(0,t.kpi-1),I),(t,e,o)=>n(0,e[o].difficulty=Math.min(5,t.difficulty+1),I),(t,e,o)=>n(0,e[o].difficulty=Math.max(1,t.difficulty-1),I),()=>n(3,i=!i),(t,e,o,c)=>n(0,e[o].due_date=_t(c.target.value),I),function(){D.project_id=function(t){const e=t.querySelector(":checked");return e&&e.__value}(this),n(12,D),n(0,I)},function(){D.plan_description=this.value,n(12,D),n(0,I)},function(){D.do_description=this.value,n(12,D),n(0,I)},function(){D.check_description=this.value,n(12,D),n(0,I)},function(){D.act_description=this.value,n(12,D),n(0,I)},function(){D.due_date=this.value,n(12,D),n(0,I)},()=>T("asc"),()=>T("desc"),t=>j(t.id),t=>k(t.id),(t,e)=>S(t.id,e),t=>y(t.id),()=>n(1,o=!o),function(){f.url=this.value,n(8,f)},function(){f.description=this.value,n(8,f)}]}return new class extends J{constructor(t){super(),A(this,t,mt,ft,i,{},null,[-1,-1,-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
