var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function l(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function c(t){t.parentNode&&t.parentNode.removeChild(t)}function i(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function s(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function f(){return d(" ")}function h(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function g(t){return function(e){return e.preventDefault(),t.call(this,e)}}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t){return""===t?null:+t}function m(t,e){e=""+e,t.data!==e&&(t.data=e)}function v(t,e){t.value=null==e?"":e}function $(t,e,n){t.classList[n?"add":"remove"](e)}let y;function x(t){y=t}function C(t){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(t)}const k=[],_=[];let j=[];const E=[],z=Promise.resolve();let w=!1;function B(t){j.push(t)}const N=new Set;let O=0;function A(){if(0!==O)return;const t=y;do{try{for(;O<k.length;){const t=k[O];O++,x(t),I(t.$$)}}catch(t){throw k.length=0,O=0,t}for(x(null),k.length=0,O=0;_.length;)_.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];N.has(e)||(N.add(e),e())}j.length=0}while(k.length);for(;E.length;)E.pop()();w=!1,N.clear(),x(t)}function I(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const L=new Set;function S(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];j.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),j=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function q(t,e){-1===t.$$.dirty[0]&&(k.push(t),w||(w=!0,z.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function D(o,a,u,i,s,d,f,h=[-1]){const g=y;x(o);const p=o.$$={fragment:null,ctx:[],props:d,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(g?g.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:a.target||g.$$.root};f&&f(p.root);let b=!1;if(p.ctx=u?u(o,a.props||{},((t,e,...n)=>{const r=n.length?n[0]:e;return p.ctx&&s(p.ctx[t],p.ctx[t]=r)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](r),b&&q(o,t)),e})):[],p.update(),b=!0,r(p.before_update),p.fragment=!!i&&i(p.ctx),a.target){if(a.hydrate){const t=function(t){return Array.from(t.childNodes)}(a.target);p.fragment&&p.fragment.l(t),t.forEach(c)}else p.fragment&&p.fragment.c();a.intro&&((m=o.$$.fragment)&&m.i&&(L.delete(m),m.i(v))),function(t,n,o,a){const{fragment:u,after_update:c}=t.$$;u&&u.m(n,o),a||B((()=>{const n=t.$$.on_mount.map(e).filter(l);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),c.forEach(B)}(o,a.target,a.anchor,a.customElement),A()}var m,v;x(g)}class M{$destroy(){S(this,1),this.$destroy=t}$on(e,n){if(!l(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function T(t,e,n){const r=t.slice();return r[34]=e[n],r[36]=n,r}function F(t,e,n){const r=t.slice();return r[37]=e[n],r[38]=e,r[36]=n,r}function H(t,e,n){const r=t.slice();return r[37]=e[n],r[39]=e,r[36]=n,r}function J(t,e,n){const r=t.slice();return r[40]=e[n],r[36]=n,r}function P(t,e,n){const r=t.slice();return r[42]=e[n],r}function U(t){let e,n,r,l=t[42].name+"";return{c(){e=s("option"),n=d(l),e.__value=t[42].id,e.value=e.__value,e.selected=r=t[42].id===t[0]},m(t,r){u(t,e,r),a(e,n)},p(t,n){1&n[0]&&r!==(r=t[42].id===t[0])&&(e.selected=r)},d(t){t&&c(e)}}}function W(t){let e,n,l,o,i,f=t[40].name+"";function g(){return t[21](t[36])}function b(...e){return t[22](t[36],...e)}return{c(){e=s("li"),n=s("button"),l=d(f),p(e,"class","svelte-1pj1znh"),$(e,"selected",t[2]===t[36]),$(e,"active",t[2]===t[36])},m(t,r){u(t,e,r),a(e,n),a(n,l),o||(i=[h(n,"click",g),h(n,"keydown",b)],o=!0)},p(n,r){t=n,2&r[0]&&f!==(f=t[40].name+"")&&m(l,f),4&r[0]&&$(e,"selected",t[2]===t[36]),4&r[0]&&$(e,"active",t[2]===t[36])},d(t){t&&c(e),o=!1,r(i)}}}function G(t){let e,n;return{c(){e=s("div"),n=d(t[5]),p(e,"class","error svelte-1pj1znh")},m(t,r){u(t,e,r),a(e,n)},p(t,e){32&e[0]&&m(n,t[5])},d(t){t&&c(e)}}}function K(t){let e,n,r,l,o,i,f,g,b=t[36]+1+"";function m(){t[25].call(o,t[36])}return{c(){e=s("label"),n=d("項目 "),r=d(b),l=d(": "),o=s("input"),i=s("br"),p(o,"type","text"),o.required=!0},m(c,s){u(c,e,s),a(e,n),a(e,r),a(e,l),a(e,o),v(o,t[7].labels[t[36]]),u(c,i,s),f||(g=h(o,"input",m),f=!0)},p(e,n){t=e,128&n[0]&&o.value!==t[7].labels[t[36]]&&v(o,t[7].labels[t[36]])},d(t){t&&c(e),t&&c(i),f=!1,g()}}}function Q(t){let e,n,r,l,o,i,f,g=t[37]+"";function $(){t[27].call(l,t[36])}return{c(){e=s("label"),n=d(g),r=d(": "),l=s("input"),o=s("br"),p(l,"type","number"),l.required=!0},m(c,s){u(c,e,s),a(e,n),a(e,r),a(e,l),v(l,t[3].data[t[36]]),u(c,o,s),i||(f=h(l,"input",$),i=!0)},p(e,r){t=e,128&r[0]&&g!==(g=t[37]+"")&&m(n,g),8&r[0]&&b(l.value)!==t[3].data[t[36]]&&v(l,t[3].data[t[36]])},d(t){t&&c(e),t&&c(o),i=!1,f()}}}function R(e){let n,r,l;return{c(){n=s("button"),n.textContent="キャンセル",p(n,"type","button")},m(t,o){u(t,n,o),r||(l=h(n,"click",e[16]),r=!0)},p:t,d(t){t&&c(n),r=!1,l()}}}function V(t){let e,n,l,o,i,g,p,b,v,$,y,x=t[34].label+"",C=t[34].data.join(", ")+"";function k(){return t[28](t[36])}function _(){return t[29](t[36])}return{c(){e=s("li"),n=d(x),l=d(" - "),o=d(C),i=f(),g=s("button"),g.textContent="編集",p=f(),b=s("button"),b.textContent="削除",v=f()},m(t,r){u(t,e,r),a(e,n),a(e,l),a(e,o),a(e,i),a(e,g),a(e,p),a(e,b),a(e,v),$||(y=[h(g,"click",k),h(b,"click",_)],$=!0)},p(e,r){t=e,128&r[0]&&x!==(x=t[34].label+"")&&m(n,x),128&r[0]&&C!==(C=t[34].data.join(", ")+"")&&m(o,C)},d(t){t&&c(e),$=!1,r(y)}}}function X(e){let n,l,o,b,y,x,C,k,_,j,E,z,w,B,N,O,A,I,L,S,q,D,M,X,Y,Z,tt,et,nt,rt,lt,ot,at,ut,ct,it,st,dt,ft,ht,gt,pt,bt,mt,vt,$t,yt,xt,Ct,kt,_t,jt,Et=e[4]?"更新":"追加",zt=e[8],wt=[];for(let t=0;t<zt.length;t+=1)wt[t]=U(P(e,zt,t));let Bt=e[1],Nt=[];for(let t=0;t<Bt.length;t+=1)Nt[t]=W(J(e,Bt,t));let Ot=e[5]&&G(e),At=e[7].labels,It=[];for(let t=0;t<At.length;t+=1)It[t]=K(H(e,At,t));let Lt=e[7].labels,St=[];for(let t=0;t<Lt.length;t+=1)St[t]=Q(F(e,Lt,t));let qt=e[4]&&R(e),Dt=e[7].datasets,Mt=[];for(let t=0;t<Dt.length;t+=1)Mt[t]=V(T(e,Dt,t));return{c(){n=s("div"),l=s("label"),l.textContent="ユーザー選択:",o=f(),b=s("select");for(let t=0;t<wt.length;t+=1)wt[t].c();y=f(),x=s("button"),x.textContent="編集",C=f(),k=s("ul");for(let t=0;t<Nt.length;t+=1)Nt[t].c();_=f(),j=s("li"),E=s("button"),E.textContent="＋ 新規チャート",z=f(),Ot&&Ot.c(),w=f(),B=s("div"),B.innerHTML='<canvas id="radarChart"></canvas>',N=f(),O=s("div"),A=s("h2"),A.textContent="チャート名の変更",I=f(),L=s("label"),S=d("チャート名: "),q=s("input"),D=f(),M=s("button"),M.textContent="保存",X=f(),Y=s("h2"),Y.textContent="項目（ラベル）の編集",Z=f(),tt=s("form");for(let t=0;t<It.length;t+=1)It[t].c();et=f(),nt=s("button"),nt.textContent="項目を更新",rt=f(),lt=s("h2"),lt.textContent="データセットの追加/編集",ot=f(),at=s("form"),ut=s("label"),ct=d("ラベル: "),it=s("input"),st=s("br"),dt=f();for(let t=0;t<St.length;t+=1)St[t].c();ft=f(),ht=s("button"),gt=d(Et),pt=f(),qt&&qt.c(),bt=f(),mt=s("h2"),mt.textContent="データセット一覧",vt=f(),$t=s("ul");for(let t=0;t<Mt.length;t+=1)Mt[t].c();yt=f(),xt=s("button"),xt.textContent="サンプルデータを出力",Ct=f(),kt=s("button"),kt.textContent="サンプルチャートを追加",p(l,"for","userSelect"),p(b,"id","userSelect"),p(n,"class","user-select"),p(x,"class","edit-button svelte-1pj1znh"),p(j,"class","svelte-1pj1znh"),p(k,"class","tabs svelte-1pj1znh"),p(B,"id","chart-container"),p(B,"class","svelte-1pj1znh"),p(A,"class","svelte-1pj1znh"),p(q,"type","text"),p(Y,"class","svelte-1pj1znh"),p(nt,"type","submit"),p(lt,"class","svelte-1pj1znh"),p(it,"type","text"),it.required=!0,p(ht,"type","submit"),p(mt,"class","svelte-1pj1znh"),p(O,"class","slide-menu svelte-1pj1znh"),$(O,"open",e[6])},m(t,r){u(t,n,r),a(n,l),a(n,o),a(n,b);for(let t=0;t<wt.length;t+=1)wt[t]&&wt[t].m(b,null);u(t,y,r),u(t,x,r),u(t,C,r),u(t,k,r);for(let t=0;t<Nt.length;t+=1)Nt[t]&&Nt[t].m(k,null);a(k,_),a(k,j),a(j,E),u(t,z,r),Ot&&Ot.m(t,r),u(t,w,r),u(t,B,r),u(t,N,r),u(t,O,r),a(O,A),a(O,I),a(O,L),a(L,S),a(L,q),v(q,e[7].name),a(O,D),a(O,M),a(O,X),a(O,Y),a(O,Z),a(O,tt);for(let t=0;t<It.length;t+=1)It[t]&&It[t].m(tt,null);a(tt,et),a(tt,nt),a(O,rt),a(O,lt),a(O,ot),a(O,at),a(at,ut),a(ut,ct),a(ut,it),v(it,e[3].label),a(at,st),a(at,dt);for(let t=0;t<St.length;t+=1)St[t]&&St[t].m(at,null);a(at,ft),a(at,ht),a(ht,gt),a(at,pt),qt&&qt.m(at,null),a(O,bt),a(O,mt),a(O,vt),a(O,$t);for(let t=0;t<Mt.length;t+=1)Mt[t]&&Mt[t].m($t,null);u(t,yt,r),u(t,xt,r),u(t,Ct,r),u(t,kt,r),_t||(jt=[h(b,"change",e[20]),h(x,"click",e[17]),h(E,"click",e[9]),h(E,"keydown",e[23]),h(q,"input",e[24]),h(M,"click",e[11]),h(tt,"submit",g(e[15])),h(it,"input",e[26]),h(at,"submit",g(e[12])),h(xt,"click",e[18]),h(kt,"click",e[19])],_t=!0)},p(t,e){if(257&e[0]){let n;for(zt=t[8],n=0;n<zt.length;n+=1){const r=P(t,zt,n);wt[n]?wt[n].p(r,e):(wt[n]=U(r),wt[n].c(),wt[n].m(b,null))}for(;n<wt.length;n+=1)wt[n].d(1);wt.length=zt.length}if(1030&e[0]){let n;for(Bt=t[1],n=0;n<Bt.length;n+=1){const r=J(t,Bt,n);Nt[n]?Nt[n].p(r,e):(Nt[n]=W(r),Nt[n].c(),Nt[n].m(k,_))}for(;n<Nt.length;n+=1)Nt[n].d(1);Nt.length=Bt.length}if(t[5]?Ot?Ot.p(t,e):(Ot=G(t),Ot.c(),Ot.m(w.parentNode,w)):Ot&&(Ot.d(1),Ot=null),128&e[0]&&q.value!==t[7].name&&v(q,t[7].name),128&e[0]){let n;for(At=t[7].labels,n=0;n<At.length;n+=1){const r=H(t,At,n);It[n]?It[n].p(r,e):(It[n]=K(r),It[n].c(),It[n].m(tt,et))}for(;n<It.length;n+=1)It[n].d(1);It.length=At.length}if(8&e[0]&&it.value!==t[3].label&&v(it,t[3].label),136&e[0]){let n;for(Lt=t[7].labels,n=0;n<Lt.length;n+=1){const r=F(t,Lt,n);St[n]?St[n].p(r,e):(St[n]=Q(r),St[n].c(),St[n].m(at,ft))}for(;n<St.length;n+=1)St[n].d(1);St.length=Lt.length}if(16&e[0]&&Et!==(Et=t[4]?"更新":"追加")&&m(gt,Et),t[4]?qt?qt.p(t,e):(qt=R(t),qt.c(),qt.m(at,null)):qt&&(qt.d(1),qt=null),24704&e[0]){let n;for(Dt=t[7].datasets,n=0;n<Dt.length;n+=1){const r=T(t,Dt,n);Mt[n]?Mt[n].p(r,e):(Mt[n]=V(r),Mt[n].c(),Mt[n].m($t,null))}for(;n<Mt.length;n+=1)Mt[n].d(1);Mt.length=Dt.length}64&e[0]&&$(O,"open",t[6])},i:t,o:t,d(t){t&&c(n),i(wt,t),t&&c(y),t&&c(x),t&&c(C),t&&c(k),i(Nt,t),t&&c(z),Ot&&Ot.d(t),t&&c(w),t&&c(B),t&&c(N),t&&c(O),i(It,t),i(St,t),qt&&qt.d(),i(Mt,t),t&&c(yt),t&&c(xt),t&&c(Ct),t&&c(kt),_t=!1,r(jt)}}}function Y(t){const e=/^rgba\((\d{1,3}), (\d{1,3}), (\d{1,3}), (0|1|0?\.\d+)\)$/.exec(t);if(!e)return!1;const[,n,r,l,o]=e.map(Number);return n>=0&&n<=255&&r>=0&&r<=255&&l>=0&&l<=255&&o>=0&&o<=1}function Z(t,e,n){let r=[{id:1,name:"ユーザー 1"},{id:2,name:"ユーザー 2"}],l={1:[{name:"チャート 1",labels:["項目1","項目2","項目3","項目4","項目5"],datasets:[{label:"データセット 1",data:[65,59,90,81,56],backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgb(255, 99, 132)",pointBackgroundColor:"rgb(255, 99, 132)"}]}],2:[{name:"チャート A",labels:["項目1","項目2","項目3","項目4","項目5"],datasets:[{label:"データセット A",data:[70,65,80,85,90],backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgb(54, 162, 235)",pointBackgroundColor:"rgb(54, 162, 235)"}]}]},o=1,a=l[o]||[],u=0,c={label:"",data:[0,0,0,0,0]},i=!1,s=null,d=null,f="",h=!1,g=a[u];function p(){const t=document.getElementById("radarChart").getContext("2d");d&&d.destroy(),d=new Chart(t,{type:"radar",data:{labels:g.labels,datasets:g.datasets},options:{elements:{line:{borderWidth:3}},scales:{r:{angleLines:{display:!0},suggestedMin:0,suggestedMax:100}}}})}function m(){const t={name:`新しいチャート ${a.length+1}`,labels:["項目1","項目2","項目3","項目4","項目5"],datasets:[]};a.push(t),n(2,u=a.length-1),n(7,g=a[u]),p()}function v(t){n(2,u=t),n(7,g=a[u]),p()}function $(t){n(4,i=!0),s=t,n(3,c={...g.datasets[t]})}function y(t){g.datasets.splice(t,1),p()}function x(){n(3,c={label:"",data:[0,0,0,0,0]}),n(4,i=!1),s=null}C((()=>{p()}));return[o,a,u,c,i,f,h,g,r,m,v,function(){const t=function(t,e){for(const e of t){if(!e.id)return{valid:!1,error:"ユーザーIDが必要です"};if(!e.uid)return{valid:!1,error:"ユーザーUIDが必要です"};if(!e.name||e.name.length>10)return{valid:!1,error:"ユーザー名は必須で、10文字以内である必要があります"}}for(const[n,r]of Object.entries(e)){if(!t.some((t=>t.id===parseInt(n))))return{valid:!1,error:`ユーザーID ${n} が見つかりません`};for(const t of r){if(!t.name||t.name.length>10)return{valid:!1,error:"チャート名は必須で、10文字以内である必要があります"};if(!t.labels||5!==t.labels.length||t.labels.some((t=>t.length>10)))return{valid:!1,error:"ラベルは必須で、5つの項目があり、それぞれ10文字以内である必要があります"};if(!t.datasets||0===t.datasets.length)return{valid:!1,error:"データセットは必須です"};for(const e of t.datasets){if(!e.label||e.label.length>10)return{valid:!1,error:"データセットラベルは必須で、10文字以内である必要があります"};if(!e.data||5!==e.data.length||e.data.some((t=>"number"!=typeof t||t<0||t>100)))return{valid:!1,error:"データセットのデータは必須で、5つの数値で、各値は0以上100以下でなければなりません"};if(!Y(e.backgroundColor))return{valid:!1,error:"backgroundColor は必須で、rgba(0-255, 0-255, 0-255, 0-1)の形式である必要があります"};if(!Y(e.borderColor))return{valid:!1,error:"borderColor は必須で、rgba(0-255, 0-255, 0-255)の形式である必要があります"};if(!Y(e.pointBackgroundColor))return{valid:!1,error:"pointBackgroundColor は必須で、rgba(0-255, 0-255, 0-255)の形式である必要があります"}}}}return{valid:!0}}(r,l);t.valid?(n(5,f=""),p()):n(5,f=t.error)},function(){i?Object.assign(g.datasets[s],c):g.datasets.push({...c}),x(),p()},$,y,function(){p()},x,function(){n(6,h=!h)},function(){console.log(JSON.stringify(a,null,2)),alert("サンプルデータをコンソールに出力しました。")},function(){a.push({name:"サンプルチャート",labels:["項目1","項目2","項目3","項目4","項目5"],datasets:[{label:"サンプルデータセット",data:[70,65,80,85,90],backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgb(54, 162, 235)",pointBackgroundColor:"rgb(54, 162, 235)"}]}),n(2,u=a.length-1),n(7,g=a[u]),p()},function(t){n(0,o=parseInt(t.target.value,10)),n(1,a=l[o]||[]),n(2,u=0),n(7,g=a[u]),p()},t=>v(t),(t,e)=>("Enter"===e.key||" "===e.key)&&v(t),t=>("Enter"===t.key||" "===t.key)&&m(),function(){g.name=this.value,n(7,g)},function(t){g.labels[t]=this.value,n(7,g)},function(){c.label=this.value,n(3,c)},function(t){c.data[t]=b(this.value),n(3,c)},t=>$(t),t=>y(t)]}return new class extends M{constructor(t){super(),D(this,t,Z,X,o,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
